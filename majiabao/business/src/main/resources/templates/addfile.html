<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>layui</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="../../static/layui/css/layui.css">
    <link rel="stylesheet" href="../../static/layui/css/style.css">
    <script src="../../static/layui/layui.js"></script>
    <script src="../../static/jq/jqery.js"></script>

    <style>
        .layui-card:last-child{
            margin-bottom:0;
            height:100%;
            margin-right: 10%;
            left: 5%;

        }

        .layui-col-md6{
            width:23%;
            height:230px;
        }
    </style>
</head>
<body>
<fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
    <legend>文件上传</legend>
</fieldset>
<fieldset class="layui-elem-field layui-field-title" style="margin-top: 10px;">

    <legend>
        <button  style="background-color: #1e9fff" type="button" class="layui-btn" id="test1">
            上传文件
        </button>
    </legend>

    <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
        <legend>访问地址：http://api.wangqikj.com/file/文件名</legend>
    </fieldset>
</fieldset>
</body>


<script>
    //JavaScript代码区域
    layui.use('element', function(){
        var element = layui.element;

    });


    layui.use('layer', function(){
        var layer = layui.layer;
    });


    layui.use('upload', function(){
        var upload = layui.upload;

        //执行实例
        var uploadInst = upload.render({
            elem: '#test1' //绑定元素
            ,url: '/savefile/' //上传接口
            ,accept: 'file' //允许上传的文件类型
            ,done: function(res){
                layer.msg('上传成功');

            }
            ,error: function(){
                //请求异常回调
                layer.msg('上传失败');
            }
        });
    });


</script>
</html>