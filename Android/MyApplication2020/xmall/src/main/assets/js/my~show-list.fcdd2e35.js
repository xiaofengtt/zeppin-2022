(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["my~show-list"],{"168d":function(t,e,i){},"28a2":function(t,e,i){"use strict";var a=i("c31d"),n=i("2b0e"),s=i("d282"),o=Object(s["a"])("image-preview"),r=o[0],c=o[1],u=i("6605"),l=i("3875"),d=i("5fbe"),g=i("ad06"),m=i("5596"),h=i("482d"),p=i("1325"),f=i("44bf"),v=i("543e"),w=i("2bb1");function y(t){return Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2))}var b,x={mixins:[l["a"]],props:{src:String,show:Boolean,active:Number,minZoom:[Number,String],maxZoom:[Number,String],rootWidth:Number,rootHeight:Number},data:function(){return{scale:1,moveX:0,moveY:0,moving:!1,zooming:!1,imageRatio:0,displayWidth:0,displayHeight:0}},computed:{vertical:function(){var t=this.rootWidth,e=this.rootHeight,i=e/t;return this.imageRatio>i},imageStyle:function(){var t=this.scale,e={transitionDuration:this.zooming||this.moving?"0s":".3s"};if(1!==t){var i=this.moveX/t,a=this.moveY/t;e.transform="scale("+t+", "+t+") translate("+i+"px, "+a+"px)"}return e},maxMoveX:function(){if(this.imageRatio){var t=this.vertical?this.rootHeight/this.imageRatio:this.rootWidth;return Math.max(0,(this.scale*t-this.rootWidth)/2)}return 0},maxMoveY:function(){if(this.imageRatio){var t=this.vertical?this.rootHeight:this.rootWidth*this.imageRatio;return Math.max(0,(this.scale*t-this.rootHeight)/2)}return 0}},watch:{show:function(t){t||this.resetScale()}},mounted:function(){this.bindTouchEvent(this.$el)},methods:{resetScale:function(){this.setScale(1),this.moveX=0,this.moveY=0},setScale:function(t){this.scale=Object(h["b"])(t,+this.minZoom,+this.maxZoom),this.$emit("scale",{scale:this.scale,index:this.active})},toggleScale:function(){var t=this.scale>1?1:2;this.setScale(t),this.moveX=0,this.moveY=0},onTouchStart:function(t){var e=t.touches,i=this.offsetX,a=void 0===i?0:i;this.touchStart(t),this.touchStartTime=new Date,this.startMoveX=this.moveX,this.startMoveY=this.moveY,this.moving=1===e.length&&1!==this.scale,this.zooming=2===e.length&&!a,this.zooming&&(this.startScale=this.scale,this.startDistance=y(t.touches))},onTouchMove:function(t){var e=t.touches;if(this.touchMove(t),(this.moving||this.zooming)&&Object(p["c"])(t,!0),this.moving){var i=this.deltaX+this.startMoveX,a=this.deltaY+this.startMoveY;this.moveX=Object(h["b"])(i,-this.maxMoveX,this.maxMoveX),this.moveY=Object(h["b"])(a,-this.maxMoveY,this.maxMoveY)}if(this.zooming&&2===e.length){var n=y(e),s=this.startScale*n/this.startDistance;this.setScale(s)}},onTouchEnd:function(t){var e=!1;(this.moving||this.zooming)&&(e=!0,this.moving&&this.startMoveX===this.moveX&&this.startMoveY===this.moveY&&(e=!1),t.touches.length||(this.zooming&&(this.moveX=Object(h["b"])(this.moveX,-this.maxMoveX,this.maxMoveX),this.moveY=Object(h["b"])(this.moveY,-this.maxMoveY,this.maxMoveY),this.zooming=!1),this.moving=!1,this.startMoveX=0,this.startMoveY=0,this.startScale=1,this.scale<1&&this.resetScale())),Object(p["c"])(t,e),this.checkTap(),this.resetTouchStatus()},checkTap:function(){var t=this,e=this.offsetX,i=void 0===e?0:e,a=this.offsetY,n=void 0===a?0:a,s=new Date-this.touchStartTime,o=250,r=10;i<r&&n<r&&s<o&&(this.doubleTapTimer?(clearTimeout(this.doubleTapTimer),this.doubleTapTimer=null,this.toggleScale()):this.doubleTapTimer=setTimeout((function(){t.$emit("close"),t.doubleTapTimer=null}),o))},onLoad:function(t){var e=t.target,i=e.naturalWidth,a=e.naturalHeight;this.imageRatio=a/i}},render:function(){var t=arguments[0],e={loading:function(){return t(v["a"],{attrs:{type:"spinner"}})}};return t(w["a"],{class:c("swipe-item")},[t(f["a"],{attrs:{src:this.src,fit:"contain"},class:c("image",{vertical:this.vertical}),style:this.imageStyle,scopedSlots:e,on:{load:this.onLoad}})])}},_=r({mixins:[l["a"],Object(u["a"])({skipToggleEvent:!0}),Object(d["a"])((function(t){t(window,"resize",this.resize,!0),t(window,"orientationchange",this.resize,!0)}))],props:{className:null,closeable:Boolean,asyncClose:Boolean,showIndicators:Boolean,images:{type:Array,default:function(){return[]}},loop:{type:Boolean,default:!0},overlay:{type:Boolean,default:!0},minZoom:{type:[Number,String],default:1/3},maxZoom:{type:[Number,String],default:3},showIndex:{type:Boolean,default:!0},swipeDuration:{type:[Number,String],default:500},startPosition:{type:[Number,String],default:0},overlayClass:{type:String,default:c("overlay")},closeIcon:{type:String,default:"clear"},closeOnPopstate:{type:Boolean,default:!0},closeIconPosition:{type:String,default:"top-right"}},data:function(){return{active:0,rootWidth:0,rootHeight:0,doubleClickTimer:null}},mounted:function(){this.resize()},watch:{startPosition:"setActive",value:function(t){var e=this;t?(this.setActive(+this.startPosition),this.$nextTick((function(){e.resize(),e.$refs.swipe.swipeTo(+e.startPosition,{immediate:!0})}))):this.$emit("close",{index:this.active,url:this.images[this.active]})}},methods:{resize:function(){if(this.$el&&this.$el.getBoundingClientRect){var t=this.$el.getBoundingClientRect();this.rootWidth=t.width,this.rootHeight=t.height}},emitClose:function(){this.asyncClose||this.$emit("input",!1)},emitScale:function(t){this.$emit("scale",t)},setActive:function(t){t!==this.active&&(this.active=t,this.$emit("change",t))},genIndex:function(){var t=this.$createElement;if(this.showIndex)return t("div",{class:c("index")},[this.slots("index")||this.active+1+" / "+this.images.length])},genCover:function(){var t=this.$createElement,e=this.slots("cover");if(e)return t("div",{class:c("cover")},[e])},genImages:function(){var t=this,e=this.$createElement;return e(m["a"],{ref:"swipe",attrs:{lazyRender:!0,loop:this.loop,duration:this.swipeDuration,initialSwipe:this.startPosition,showIndicators:this.showIndicators,indicatorColor:"white"},class:c("swipe"),on:{change:this.setActive}},[this.images.map((function(i){return e(x,{attrs:{src:i,show:t.value,active:t.active,maxZoom:t.maxZoom,minZoom:t.minZoom,rootWidth:t.rootWidth,rootHeight:t.rootHeight},on:{scale:t.emitScale,close:t.emitClose}})}))])},genClose:function(){var t=this.$createElement;if(this.closeable)return t(g["a"],{attrs:{role:"button",name:this.closeIcon},class:c("close-icon",this.closeIconPosition),on:{click:this.emitClose}})},onClosed:function(){this.$emit("closed")},swipeTo:function(t,e){this.$refs.swipe&&this.$refs.swipe.swipeTo(t,e)}},render:function(){var t=arguments[0];if(this.shouldRender)return t("transition",{attrs:{name:"van-fade"},on:{afterLeave:this.onClosed}},[t("div",{directives:[{name:"show",value:this.value}],class:[c(),this.className]},[this.genClose(),this.genImages(),this.genIndex(),this.genCover()])])}}),C=i("a142"),S={loop:!0,value:!0,images:[],maxZoom:3,minZoom:1/3,onClose:null,onChange:null,className:"",showIndex:!0,closeable:!1,closeIcon:"clear",asyncClose:!1,getContainer:"body",startPosition:0,swipeDuration:500,showIndicators:!1,closeOnPopstate:!0,closeIconPosition:"top-right"},k=function(){b=new(n["a"].extend(_))({el:document.createElement("div")}),document.body.appendChild(b.$el),b.$on("change",(function(t){b.onChange&&b.onChange(t)})),b.$on("scale",(function(t){b.onScale&&b.onScale(t)}))},R=function(t,e){if(void 0===e&&(e=0),!C["g"]){b||k();var i=Array.isArray(t)?{images:t,startPosition:e}:t;return Object(a["a"])(b,S,i),b.$once("input",(function(t){b.value=t})),b.$once("closed",(function(){b.images=[]})),i.onClose&&(b.$off("close"),b.$once("close",i.onClose)),b}};R.Component=_,R.install=function(){n["a"].use(_)};e["a"]=R},4662:function(t,e,i){"use strict";i("68ef"),i("a71a"),i("9d70"),i("3743"),i("09fe"),i("4d75"),i("e3b3"),i("8270"),i("786d"),i("504b")},"4a5e":function(t,e,i){},"4d60":function(t,e,i){"use strict";var a=i("168d"),n=i.n(a);n.a},"504b":function(t,e,i){},5159:function(t,e,i){"use strict";var a=i("dcd4"),n=i.n(a);n.a},"76cc":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"MyWonList"}},[a("pull-refresh",{attrs:{"loading-text":"loading","loosing-text":"Release to refresh","pulling-text":"Drop down to refresh"},on:{refresh:t.onRefresh},model:{value:t.downLoading,callback:function(e){t.downLoading=e},expression:"downLoading"}},[0===t.listData.length&&t.finished?[a("div",{staticClass:"nodata"},[a("img",{attrs:{src:i("0fe8")}}),a("p",[t._v("No orders yet")])]),a("div",[a("p",{staticClass:"feature-title"},[t._v("Recommended for You")]),a("goods-featured",{attrs:{sort:t.sort}})],1)]:a("list",{staticClass:"list",attrs:{finished:t.finished,"finished-text":"","loading-text":"loading"},on:{load:t.onLoad},model:{value:t.upLoading,callback:function(e){t.upLoading=e},expression:"upLoading"}},t._l(t.listData,(function(e,n){return a("div",{key:e.uuid,staticClass:"item"},[a("div",{on:{click:function(i){return t.androidUrl(e.gameType,e.goodsIssue)}}},[t.androidFlag?a("div",{staticClass:"winning-img"},[a("img",{attrs:{alt:"",src:i("efd7")}})]):t._e(),t.androidFlag?a("van-row",{staticClass:"top-data",attrs:{align:"center",justify:"space-between",type:"flex"}},[a("p",{staticClass:"time"},[t._v("Results for:"+t._s(t.format(e.winningTime)))]),"normal"===e.type?a("p",{staticClass:"status winning"},[t._v("Winning")]):"gold"===e.type?a("p",{staticClass:"status winning-gold"},[t._v("Exchanged")]):"entity"===e.type?a("p",{staticClass:"status winning-entity"},[t._v("Exchanged")]):t._e()]):t._e(),a("van-row",{attrs:{align:"top",justify:"space-between",type:"flex"}},[a("div",[a("img",{staticClass:"goods-img",attrs:{src:e.cover}})]),"group2"!==e.gameType?a("div",{staticClass:"right"},[a("p",{staticClass:"title van-multi-ellipsis--l2"},[a("span",{staticClass:"font-orange"},[t._v("Issue:"+t._s(e.issueNum)+" | ")]),t._v(" "+t._s(e.title)+" ")]),a("p",{staticClass:"buy-count"},[t._v(t._s((t.frontUser,"Quantity:"))+t._s(e.buyCount))]),a("p",{},[t._v(" "+t._s(t.androidFlag?"Lucky No.:":"Groupon No.")+" "),a("span",[t._v(t._s(e.luckynum))])])]):a("div",{staticClass:"right"},[a("p",{staticClass:"title van-multi-ellipsis--l2"},["group2"===e.gameType?a("span",{staticClass:"font-team"},[t._v("PK Zone")]):t._e(),a("span",{staticClass:"font-orange"},[t._v("Issue:"+t._s(e.issueNum)+" | ")]),t._v(" "+t._s(e.title)+" ")]),a("p",{staticClass:"buy-count"},[t._v(" "+t._s((t.frontUser,"Quantity"))+":"+t._s(e.buyCount)+" "),"group2"===e.gameType?a("span",{class:["teampk","teampk-"+e.luckyGroup]},[t._v(t._s("lucky"===e.luckyGroup?"Red Team":"Blue Team"))]):t._e()]),a("p",[t._v(" Winner: "),a("span",{class:["teampk-win","teampk-win-"+e.luckyGroup]},[t._v(t._s("lucky"===e.luckyGroup?"Red Team":"Blue Team"))])]),a("p",{class:["get-reward",t.androidFlag?"":"android"]},[t._v(" Coins exchanged: "),a("span",[t._v(t._s(e.dealPrice))])])])])],1),t.frontUser?t._e():a("van-row",{staticClass:"buttons",attrs:{align:"center",justify:"end",type:"flex"}},[e.isRecevice&&!e.isComment&&"tradition"===e.gameType?a("jump-link",{staticClass:"button",attrs:{to:"/mycomment?id="+e.uuid+"&goodid="+e.goodsIssue}},[t._v("Review")]):t._e(),e.isRecevice||"tradition"!==e.gameType?t._e():a("div",{staticClass:"button",on:{click:function(i){return t.setRedeemData(e,n)}}},[t._v("Deliver")]),a("jump-link",{staticClass:"button",attrs:{to:"group2"===e.gameType?"/team-pk/"+e.currentIssueUuid:"/lottery-goods-details/"+e.currentIssueUuid}},[t._v("Buy more")])],1),a("van-row",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"item.loading"}],staticClass:"loading",attrs:{align:"center",justify:"center",type:"flex"}},[a("loading",{attrs:{color:"#666",size:"40px",type:"spinner"}})],1)],1)})),0)],2),a("redeem",{attrs:{index:t.redeemData.index,"redeem-data":t.redeemData.data},on:{closed:function(e){t.redeemData={}},exchange:t.updateSingle}}),t.isScore?a("div",{staticClass:"goscore-box"},[a("div",{staticClass:"box"},[a("img",{attrs:{src:i("d66c")}}),a("div",{staticClass:"goscore-box-inner"},[a("p",[t._v("To claim your prize,please check your order to learn more.If you have any questions,just contact us.")]),a("van-col",{staticClass:"right",on:{click:t.goScore}},[t._v("Claim Your Prize")]),a("van-col",{staticClass:"left",on:{click:function(e){t.isScore=!1}}},[t._v("Later")])],1)])]):t._e()],1)},n=[],s=(i("99af"),i("4160"),i("c975"),i("159b"),i("96cf"),i("c964")),o=i("f3f3"),r=(i("ac1e"),i("543e")),c=(i("2994"),i("2bdd")),u=(i("ab71"),i("58e6")),l=i("9fca"),d=i("ed08"),g=i("2f62"),m=i("22f3"),h={name:"MyInvolveList",components:{PullRefresh:u["a"],List:c["a"],Redeem:l["a"],Loading:r["a"],goodsFeatured:m["a"]},data:function(){return{frontUser:this.$route.params.frontUser,listData:[],downLoading:!1,upLoading:!1,finished:!1,pageNum:0,pageSize:20,redeemData:{data:{},index:0},sort:"createtime desc",androidFlag:!!window.localStorage.getItem("androidFlag")&&JSON.parse(window.localStorage.getItem("androidFlag")),isScore:!1}},created:function(){},computed:{},mounted:function(){window.scoreShow=this.scoreShow},methods:Object(o["a"])(Object(o["a"])({},Object(g["b"])("User",["getToken"])),{},{getList:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var i,a,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=t.frontUser?"/comment/winningInfoList":"/userAccount/winningInfoList",!t.frontUser){e.next=5;break}e.t0=null,e.next=8;break;case 5:return e.next=7,t.getToken();case 7:e.t0=e.sent;case 8:return a=e.t0,n=t.androidFlag?"":"tradition",e.next=12,t.$api.get(i,{pageNum:t.pageNum,pageSize:t.pageSize,frontUser:t.frontUser,gameType:n,channel:window.localStorage.getItem("channelUuid"),version:window.localStorage.getItem("version"),token:a});case 12:return s=e.sent,s.forEach((function(t){t.loading=!1})),e.abrupt("return",s);case 15:case"end":return e.stop()}}),e)})))()},onRefresh:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.pageNum=1,e.next=3,t.getList();case 3:i=e.sent,setTimeout((function(){t.listData=[],t.listData=t.listData.concat(i),t.downLoading=!1}),600);case 5:case"end":return e.stop()}}),e)})))()},onLoad:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.pageNum++,e.next=3,t.getList();case 3:i=e.sent,setTimeout((function(){t.listData=t.listData.concat(i),i.length<t.pageSize&&(t.finished=!0),t.upLoading=!1}),600);case 5:case"end":return e.stop()}}),e)})))()},updateSingle:function(t,e){var i=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.loading=!0,a.t0=i.$api,a.t1=t.uuid,a.next=5,i.getToken();case 5:return a.t2=a.sent,a.t3={uuid:a.t1,token:a.t2},a.next=9,a.t0.get.call(a.t0,"/userAccount/receiveGet",a.t3);case 9:n=a.sent,setTimeout((function(){i.$set(i.listData,e,n)}),1500);case 11:case"end":return a.stop()}}),a)})))()},setRedeemData:function(t,e){this.androidFlag?this.redeemData={data:t,index:e}:this.$router.push("/exaddress?id="+(t.winningInfo?t.winningInfo:t.uuid))},format:function(t){return t?Object(d["c"])(new Date(t),"yyyy-MM-dd HH:mm"):"0000-00-00 00:00"},androidUrl:function(t,e){window.localStorage.setItem("androidPage",window.location.href.substring(window.location.href.indexOf("#/")+1)),"group2"===t?window.JavascriptInterface.goRoute("/team-pk/"+e):window.JavascriptInterface.goRoute("/lottery-goods-details/"+e)},scoreShow:function(){this.isScore=!0},goScore:function(){this.onRefresh(),this.isScore=!1}})},p=h,f=(i("ca28"),i("2877")),v=Object(f["a"])(p,a,n,!1,null,"4028901e",null);e["default"]=v.exports},"9be0":function(t,e,i){},"9fca":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("popup",{attrs:{closeable:"",id:"redeem",round:""},on:{closed:t.closed},model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[i("div",{staticClass:"redeem"},[i("van-row",{staticClass:"goods-data",attrs:{align:"center",justify:"space-between",type:"flex"}},[i("div",[i("img",{staticClass:"goods-img",attrs:{src:""+t.redeemData.cover}})]),i("div",[i("p",{staticClass:"title van-multi-ellipsis--l2"},[t._v(t._s(t.redeemData.title))]),i("van-row",{attrs:{align:"center",justify:"space-between",type:"flex"}},[i("p",{staticClass:"price"},[t._v(t._s(t.currencySymbol+(t.redeemData.price*t.baseRate).toFixed(0)))]),i("p",{staticClass:"quantity"},[t._v("x1")])])],1)]),i("p",{staticClass:"gold"},[i("span",{staticClass:"font-orange"},[t._v(t._s(t.redeemData.dPrice||t.redeemData.dealPrice))]),i("b",[t._v("Coins for exchange")])]),i("div",{staticClass:"button-group"},[i("p",{staticClass:"receipt"},[i("jump-link",{attrs:{to:"/exaddress?id="+(this.redeemData.winningInfo||this.redeemData.uuid)}},[t._v("Shipping")])],1),i("van-button",{staticClass:"goods-button",attrs:{loading:t.buttonLoading,block:"","loading-text":"loading","loading-type":"spinner",type:"primary light"},on:{click:t.exchange}},[t._v("Exchange for coins")])],1),i("b",{staticClass:"receive-tips"},[t._v(" Exchange Instructions: "),i("br"),t._v("1.Exchange gold coins: users can obtain gold coins with the same value as the winning goods, which are automatically sent to the account balance. "),i("br"),t._v("2.Exchange goods: users need to use points for exchange, and the points required will be deducted automatically. "),i("br")])],1)])},n=[],s=(i("4160"),i("c975"),i("a9e3"),i("b64b"),i("159b"),i("f3f3")),o=(i("96cf"),i("c964")),r=(i("8a58"),i("e41f")),c=i("2f62"),u={name:"redeem",props:{redeemData:{type:Object,default:function(){return{}}},index:{type:Number,default:0}},components:{Popup:r["a"]},data:function(){return{isShow:!1,buttonLoading:!1,exchangeRate:[],baseRate:1,currencyCode:"USD",currencySymbol:"$"}},watch:{redeemData:function(t){0!==Object.keys(t).length&&(this.isShow=!0)}},mounted:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.getRate();case 1:case"end":return e.stop()}}),e)})))()},methods:Object(s["a"])(Object(s["a"])({},Object(c["b"])("User",["getToken"])),{},{exchange:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.buttonLoading=!0,e.t0=t.$api,e.next=4,t.getToken();case 4:return e.t1=e.sent,e.t2=t.redeemData.winningInfo||t.redeemData.uuid,e.t3={token:e.t1,type:"gold",winningInfo:e.t2,frontUserAddress:""},e.next=9,e.t0.post.call(e.t0,"/userAccount/receive",e.t3);case 9:t.buttonLoading=!1,t.closed(),t.$toast("Exchanged successfully"),t.$emit("exchange",t.redeemData,t.index);case 13:case"end":return e.stop()}}),e)})))()},closed:function(){this.isShow=!1,this.$emit("closed")},getRate:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.currencyCode=window.localStorage.getItem("currency")?window.localStorage.getItem("currency").substring(0,window.localStorage.getItem("currency").indexOf("_")):"USD",e.next=3,t.$api.get("/area/currency");case 3:i=e.sent,i.forEach((function(e){if(e.currencyCode===t.currencyCode)return t.baseRate=e.realRate,t.currencySymbol=e.symbol,!1})),1===t.baseRate&&(t.currencyCode="USD",t.currencySymbol="$");case 6:case"end":return e.stop()}}),e)})))()}})},l=u,d=(i("5159"),i("4d60"),i("2877")),g=Object(d["a"])(l,a,n,!1,null,"a8684efe",null);e["a"]=g.exports},ca28:function(t,e,i){"use strict";var a=i("4a5e"),n=i.n(a);n.a},dcd4:function(t,e,i){},e32a:function(t,e,i){"use strict";var a=i("9be0"),n=i.n(a);n.a},efd7:function(t,e,i){t.exports=i.p+"img/pic-winning.0ef9af8b.png"},f645:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"MyInvolveList"}},[a("pull-refresh",{attrs:{"loading-text":"loading","loosing-text":"Release to refresh","pulling-text":"Drop down to refresh"},on:{refresh:t.onRefresh},model:{value:t.downLoading,callback:function(e){t.downLoading=e},expression:"downLoading"}},[0===t.listData.length&&t.finished?[a("div",{staticClass:"nodata"},[a("img",{attrs:{src:i("0fe8")}}),a("p",[t._v("No orders yet")])]),a("div",[a("p",{staticClass:"feature-title"},[t._v("Recommended for You")]),a("goods-featured",{attrs:{sort:t.sort}})],1)]:a("list",{staticClass:"list",attrs:{finished:t.finished,"finished-text":"","loading-text":"loading"},on:{load:t.onLoad},model:{value:t.upLoading,callback:function(e){t.upLoading=e},expression:"upLoading"}},t._l(t.listData,(function(e,n){return a("div",{key:e.uuid,staticClass:"item"},[a("div",{on:{click:function(i){return t.androidUrl(e.gameType,e.goodsIssue)}}},[e.isLucky&&t.androidFlag?a("div",{staticClass:"winning-img"},[a("img",{attrs:{alt:"",src:i("efd7")}})]):t._e(),t.androidFlag?a("van-row",{staticClass:"top-data",attrs:{align:"center",justify:"space-between",type:"flex"}},["betting"===e.gameStatus?a("p",{staticClass:"prompt"}):a("p",{staticClass:"time"},[t._v("Results for:"+t._s(t.format(e.finishedtime)))]),"betting"===e.gameStatus?a("p",{staticClass:"status"},[t._v("Ongoing")]):t._e(),"finished"===e.gameStatus?[e.isLucky&&!e.isRecevice||e.isLucky&&"normal"===e.receviceType?a("p",{staticClass:"status winning"},[t._v("Winning")]):e.isLucky&&"gold"===e.receviceType?a("p",{staticClass:"status winning-gold"},[t._v("Exchanged")]):e.isLucky&&"entity"===e.receviceType?a("p",{staticClass:"status winning-entity"},[t._v("Exchanged")]):a("p",{staticClass:"status not-winning"},[t._v("Losing")])]:t._e()],2):t._e(),a("van-row",{attrs:{align:"top",justify:"space-between",type:"flex"}},[a("div",[a("img",{staticClass:"goods-img",attrs:{src:""+e.cover}})]),a("div",{staticClass:"right"},[a("p",{staticClass:"title van-multi-ellipsis--l2"},["group2"===e.gameType?a("span",{staticClass:"font-team"},[t._v("PK Zone")]):t._e(),a("span",{staticClass:"font-orange"},[t._v("Issue:"+t._s(e.issueNum)+" | ")]),t._v(" "+t._s(e.title)+" ")]),"finished"===e.gameStatus?[[a("p",{staticClass:"buy-count"},[t._v(" "+t._s((t.frontUser,"Quantity:"))+t._s(e.buyCount)+" "),"group2"===e.gameType?a("span",{class:["teampk","teampk-"+e.paymentGroup]},[t._v(t._s("lucky"===e.paymentGroup?"Red Team":"Blue Team"))]):t._e()]),a("p",{},[t._v("Order time:"+t._s(t.format(e.createtime)))])]]:t._e(),"lottery"===e.gameStatus&&t.androidFlag?[a("van-row",{staticClass:"clock-data",attrs:{align:"center",type:"flex"}},[a("div",[a("img",{attrs:{src:i("fa24")}})]),a("p",[t._v("End in")])]),a("div",{staticClass:"clock"},[a("colck",{attrs:{time:e.timeLine},on:{finish:function(i){return t.updateSingle(e,n)}}})],1)]:t._e(),"betting"===e.gameStatus?[a("van-row",{staticClass:"schedule",attrs:{align:"center",justify:"space-between",type:"flex"}},[a("p",[t._v(" "+t._s((t.frontUser,"Quantity:"))+t._s(e.buyCount)+" "),"group2"===e.gameType?a("span",{class:["teampk","teampk-"+e.paymentGroup]},[t._v(t._s("lucky"===e.paymentGroup?"Red Team":"Blue Team"))]):t._e()]),a("p",[t._v(t._s("group2"===e.gameType?"":"Progress:")+t._s(t.drawProgress(e))+"%")])]),a("Progress",{attrs:{percentage:t.drawProgress(e),"show-pivot":!1,color:"#FFBC02","track-color":"#E8EBEE"}})]:t._e()],2)])],1),t.frontUser?t._e():a("van-row",{staticClass:"buttons",attrs:{align:"center",justify:"end",type:"flex"}},["betting"===e.gameStatus?a("jump-link",{staticClass:"button",attrs:{to:"group2"===e.gameType?"/team-pk/"+e.goodsIssue:"/lottery-goods-details/"+e.goodsIssue}},[t._v("Buy more")]):t._e(),e.isLucky?[e.isRecevice&&!e.isComment&&"tradition"===e.gameType?a("jump-link",{staticClass:"button",attrs:{to:"/mycomment?id="+e.winningInfo+"&goodid="+e.goodsIssue}},[t._v("Review")]):t._e(),!e.isRecevice&&"tradition"===e.gameType&&t.androidFlag?a("div",{staticClass:"button",on:{click:function(i){return t.setRedeemData(e,n)}}},[t._v("Deliver")]):t._e()]:t._e()],2),a("van-row",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"item.loading"}],staticClass:"loading",attrs:{align:"center",justify:"center",type:"flex"}},[a("loading",{attrs:{color:"#666",size:"40px",type:"spinner"}})],1)],1)})),0)],2),a("redeem",{attrs:{index:t.redeemData.index,"redeem-data":t.redeemData.data},on:{closed:function(e){t.redeemData={}},exchange:t.updateSingle}}),t.isScore?a("div",{staticClass:"goscore-box"},[a("div",{staticClass:"box"},[a("img",{attrs:{src:i("d66c")}}),a("div",{staticClass:"goscore-box-inner"},[a("p",[t._v("To claim your prize,please check your order to learn more.If you have any questions,just contact us.")]),a("van-col",{staticClass:"right",on:{click:t.goScore}},[t._v("Claim Your Prize")]),a("van-col",{staticClass:"left",on:{click:function(e){t.isScore=!1}}},[t._v("Later")])],1)])]):t._e()],1)},n=[],s=(i("99af"),i("4160"),i("159b"),i("96cf"),i("c964")),o=i("f3f3"),r=(i("ac1e"),i("543e")),c=(i("1075"),i("f600")),u=(i("2994"),i("2bdd")),l=(i("ab71"),i("58e6")),d=i("5c54"),g=i("9fca"),m=i("ed08"),h=i("2f62"),p=i("22f3"),f={name:"MyInvolveList",components:{PullRefresh:l["a"],List:u["a"],Progress:c["a"],Colck:d["a"],Loading:r["a"],Redeem:g["a"],goodsFeatured:p["a"]},inject:["changeActives"],data:function(){return{frontUser:this.$route.params.frontUser,listData:[],downLoading:!1,upLoading:!1,finished:!1,pageNum:0,pageSize:20,redeemData:{data:{},index:0},sort:"createtime desc",androidFlag:!!window.localStorage.getItem("androidFlag")&&JSON.parse(window.localStorage.getItem("androidFlag")),isScore:!1}},created:function(){},computed:{},mounted:function(){window.scoreShow=this.scoreShow},methods:Object(o["a"])(Object(o["a"])({},Object(h["b"])("User",["getToken"])),{},{getList:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var i,a,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=t.frontUser?"/comment/paymentList":"/userAccount/paymentList",!t.frontUser){e.next=5;break}e.t0=null,e.next=8;break;case 5:return e.next=7,t.getToken();case 7:e.t0=e.sent;case 8:return a=e.t0,n=t.androidFlag?"":"tradition",e.next=12,t.$api.get(i,{pageNum:t.pageNum,pageSize:t.pageSize,frontUser:t.frontUser,gameType:n,channel:window.localStorage.getItem("channelUuid"),version:window.localStorage.getItem("version"),token:a});case 12:return s=e.sent,s.forEach((function(t){t.loading=!1})),e.abrupt("return",s);case 15:case"end":return e.stop()}}),e)})))()},onRefresh:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.pageNum=1,e.next=3,t.getList();case 3:i=e.sent,setTimeout((function(){t.listData=[],t.listData=t.listData.concat(i),t.downLoading=!1}),600);case 5:case"end":return e.stop()}}),e)})))()},onLoad:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.pageNum++,e.next=3,t.getList();case 3:i=e.sent,setTimeout((function(){t.listData=t.listData.concat(i),i.length<t.pageSize&&(t.finished=!0),t.upLoading=!1}),600);case 5:case"end":return e.stop()}}),e)})))()},updateSingle:function(t,e){var i=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.loading=!0,a.next=3,i.$api.get("/comment/paymentGet",{frontUser:t.frontUser||null,uuid:t.uuid});case 3:n=a.sent,n.loading=!1,setTimeout((function(){i.$set(i.listData,e,n)}),1500);case 6:case"end":return a.stop()}}),a)})))()},setRedeemData:function(t,e){this.androidFlag?this.redeemData={data:t,index:e}:this.$router.push("/exaddress?id="+(t.winningInfo?t.winningInfo:t.uuid))},format:function(t){return t?Object(m["c"])(new Date(t),"yyyy-MM-dd HH:mm"):"0000-00-00 00:00"},drawProgress:function(t){return t.betShares?Object(m["e"])(t.betShares,t.shares):0},androidUrl:function(t,e){window.JavascriptInterface.goRoute("other"),"group2"===t?this.$router.push("/team-pk/"+e):this.$router.push("/lottery-goods-details/"+e)},scoreShow:function(){this.isScore=!0},goScore:function(){this.changeActives("1"),window.JavascriptInterface.goRoute("/recordlist/mywonlist?id=1&type=score")}})},v=f,w=(i("e32a"),i("2877")),y=Object(w["a"])(v,a,n,!1,null,"15eb1234",null);e["default"]=y.exports}}]);