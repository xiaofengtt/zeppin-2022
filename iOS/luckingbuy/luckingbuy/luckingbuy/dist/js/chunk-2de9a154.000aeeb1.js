(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2de9a154"],{"06c9":function(t,e,n){"use strict";var a=n("37a7"),i=n.n(a);i.a},"15c0":function(t,e,n){},2696:function(t,e,n){"use strict";var a=n("29ad"),i=n.n(a);i.a},"29ad":function(t,e,n){},"37a7":function(t,e,n){},"3b68":function(t,e,n){},"416a":function(t,e,n){t.exports=n.p+"img/cart-no-data.14e81f2e.png"},"4a1d":function(t,e,n){},"4c04":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"book-large-list"},[t._t("default")],2)},i=[],r=(n("ac6a"),n("f3e2"),n("20d6"),{name:"index",props:{canHandle:{type:Boolean,default:!0}},data:function(){return{chooseData:[]}},methods:{handleItemClick:function(t,e,n,a,i){var r=this.chooseData.findIndex((function(t){return t.bookId===e}));-1===r?this.chooseData.push({cartId:t,bookId:e,count:n,price:a,commodity:i}):this.chooseData.splice(r,1),console.log(this.chooseData),this.emit()},handleNumberChange:function(t,e,n,a){var i=this.chooseData.findIndex((function(t){return t.bookId===e}));-1!==i&&(this.chooseData[i]={cartId:t,bookId:e,count:n,price:a},this.emit())},handleRemove:function(t,e){var n=this.chooseData.findIndex((function(t){return t.bookId===e}));-1!==n&&(this.chooseData.splice(n,1),this.emit()),this.$emit("delete",t)},orderRemove:function(t,e){this.$emit("Remove",t,e)},emit:function(){var t=0;this.chooseData.forEach((function(e){t+=e.price*e.count})),this.$emit("change",this.chooseData,t.toFixed(2))}}}),s=r,c=(n("06c9"),n("2877")),o=Object(c["a"])(s,a,i,!1,null,"700eb3d0",null),u=o.exports,l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isRemove?n("li",{staticClass:"book-large-list-item"},[t.$parent.canHandle?n("nacl-flexbox",{staticClass:"operators",attrs:{justify:"between"}},[n("div",{class:["checkbox",{"is-checked":t.data.checked}],on:{click:t.handleItemClick}}),n("div",{staticClass:"remove",on:{click:t.handleRemove}})]):t._e(),n("nacl-flexbox",{staticClass:"book-detail"},[n("img",{attrs:{src:t.data.thumbnail}}),n("nacl-flexbox-item",[n("h5",[t._v(t._s(t.data.title))]),n("p",[n("span",{staticClass:"price"},[t._v("¥"+t._s(t.data.price.toFixed(2)))]),t.$parent.canHandle?t._e():n("span",{staticClass:"nub"},[t._v("x"+t._s(t.data.buyCount))])]),n("nacl-flexbox",{attrs:{align:"center",justify:"between"}},[t.$parent.canHandle?n("span",{staticClass:"label"},[t._v("下单后抽奖")]):t._e(),n("span",[t.$parent.canHandle?n("number-input",{staticClass:"nub",attrs:{min:1,inline:"",controls:"",size:"small",center:""},on:{change:t.handleNumberChange},model:{value:t.data.buyCount,callback:function(e){t.$set(t.data,"buyCount",e)},expression:"data.buyCount"}}):t._e()],1)])],1)],1)],1):t._e()},d=[],h=(n("96cf"),n("3b8d")),p=function(){var t,e=this,n=e.$createElement,a=e._self._c||n;return a("div",e._g({staticClass:"number-input",class:(t={"number-input--inline":e.inline,"number-input--center":e.center,"number-input--controls":e.controls},t["number-input--"+e.size]=e.size,t)},e.listeners),[e.controls?a("button",{staticClass:"number-input__button number-input__button--minus",attrs:{type:"button",disabled:e.disabled||e.readonly||!e.decreasable},on:{click:function(t){return t.stopPropagation(),e.decrease(t)}}}):e._e(),a("input",{ref:"input",staticClass:"number-input__input",attrs:{type:"number",name:e.name,min:e.min,max:e.max,step:e.step,readonly:e.readonly||!e.inputtable,disabled:e.disabled||!e.decreasable&&!e.increasable,placeholder:e.placeholder,autocomplete:"off"},domProps:{value:e.currentValue},on:{change:e.change,paste:e.paste}}),e.controls?a("button",{staticClass:"number-input__button number-input__button--plus",attrs:{type:"button",disabled:e.disabled||e.readonly||!e.increasable},on:{click:function(t){return t.stopPropagation(),e.increase(t)}}}):e._e()])},b=[],m=(n("1c01"),n("58b2"),n("8e6e"),n("d25f"),n("456d"),n("bd86"));n("c5f6"),n("ee1d");function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){Object(m["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var g=Number.isNaN||window.isNaN,y=/^-?(?:\d+|\d+\.\d+|\.\d+)(?:[eE][-+]?\d+)?$/,x=/\.\d*(?:0|9){10}\d*$/,_=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return x.test(t)?Math.round(t*e)/e:t},k={name:"number-input",model:{event:"change"},props:{center:Boolean,controls:Boolean,disabled:Boolean,inputtable:{type:Boolean,default:!0},inline:Boolean,max:{type:Number,default:1/0},min:{type:Number,default:-1/0},name:{type:String,default:void 0},placeholder:{type:String,default:void 0},readonly:Boolean,rounded:Boolean,size:{type:String,default:"small"},step:{type:Number,default:1},value:{type:Number,default:NaN}},data:function(){return{currentValue:NaN}},computed:{increasable:function(){var t=this.currentValue;return g(t)||t<this.max},decreasable:function(){var t=this.currentValue;return g(t)||t>this.min},listeners:function(){var t=v({},this.$listeners);return delete t.change,t}},watch:{value:{immediate:!0,handler:function(t,e){g(t)&&"undefined"===typeof e||t===this.currentValue||this.setValue(t)}}},methods:{change:function(t){this.setValue(Math.min(this.max,Math.max(this.min,t.target.value)))},paste:function(t){var e=t.clipboardData||window.clipboardData;e&&!y.test(e.getData("text"))&&t.preventDefault()},decrease:function(){if(this.decreasable){var t=this.currentValue;g(t)&&(t=0),this.setValue(Math.min(this.max,Math.max(this.min,_(t-this.step))))}},increase:function(){if(this.increasable){var t=this.currentValue;g(t)&&(t=0),this.setValue(Math.min(this.max,Math.max(this.min,_(t+this.step))))}},setValue:function(t){var e=this.currentValue,n=this.rounded?Math.round(t):t;this.min<=this.max&&(n=Math.min(this.max,Math.max(this.min,n))),this.currentValue=n,n===e&&(this.$refs.input.value=n),this.$emit("change",n,e)}}},C=k,O=(n("2696"),Object(c["a"])(C,p,b,!1,null,"189cd1ab",null)),w=O.exports,j=n("d8d8"),N=n("dde5"),I={name:"item",components:{NumberInput:w,NaclButton:j["NaclButton"]},props:{data:{type:Object,default:function(){}},orderId:{type:String,default:""}},data:function(){return{count:1,isChecked:!1,isRemove:!0}},computed:{statusColor:function(){return 0===this.data.status?"#999999":"#ea6932"}},watch:{"data.buyCount":function(){Object(N["e"])({goodsId:this.data.goodsId,number:this.data.buyCount,cartId:this.data.id})}},methods:{handleItemClick:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(N["c"])({cartIds:this.data.id,isChecked:this.data.checked?0:1});case 2:this.data.checked=!this.data.checked;case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handleNumberChange:function(){this.$parent.handleNumberChange(this.data.cartId,this.data.id,this.count,this.data.price)},handleRemove:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(N["d"])({cartIds:this.data.id});case 2:this.isRemove=!1,this.$parent.handleRemove(this.data.cartId,this.data.id);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),removeOrder:function(){this.$parent.orderRemove(this.orderId,this.data.id)}}},$=I,D=(n("b65d"),Object(c["a"])($,l,d,!1,null,"d37ca678",null)),R=D.exports;u.Item=R;e["a"]=u},"67dc":function(t,e,n){"use strict";var a=n("4a1d"),i=n.n(a);i.a},"85b5":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h1",{class:["basic-title","is-"+t.color]},[t._t("default")],2)},i=[],r={name:"index",props:{color:{type:String,default:"dark",validator:function(t){return"light"===t||"dark"===t}}}},s=r,c=(n("67dc"),n("2877")),o=Object(c["a"])(s,a,i,!1,null,"008bcc35",null);e["a"]=o.exports},"86e3":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nacl-button",t._b({staticClass:"basic-button",on:{click:function(e){return t.$emit("click")}}},"nacl-button",t.$attrs,!1),[t._t("default")],2)},i=[],r=n("d8d8"),s={name:"basic-button",components:{NaclButton:r["NaclButton"]}},c=s,o=(n("af3a"),n("2877")),u=Object(o["a"])(c,a,i,!1,null,"65bfe3bb",null);e["a"]=u.exports},af3a:function(t,e,n){"use strict";var a=n("3b68"),i=n.n(a);i.a},b65d:function(t,e,n){"use strict";var a=n("15c0"),i=n.n(a);i.a},ee1d:function(t,e,n){var a=n("5ca1");a(a.S,"Number",{isNaN:function(t){return t!=t}})}}]);
//# sourceMappingURL=chunk-2de9a154.000aeeb1.js.map