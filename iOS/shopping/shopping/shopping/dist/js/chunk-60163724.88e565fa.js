(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-60163724"],{"125e":function(t,e,n){"use strict";var r=n("4fe2"),i=n.n(r);i.a},"383a":function(t,e,n){"use strict";var r=n("dd40"),i=n.n(r);i.a},"4fe2":function(t,e,n){},"57e7":function(t,e,n){"use strict";var r=n("5ca1"),i=n("c366")(!1),s=[].indexOf,a=!!s&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n("2f21")(s)),"Array",{indexOf:function(t){return a?s.apply(this,arguments)||0:i(this,t,arguments[1])}})},cf2a:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nacl-page-container",{attrs:{"no-header":""}},[r("nacl-page-content",{staticClass:"content-wrap",attrs:{"no-footer":""}},[t.orderList.length?r("div",t._l(t.orderList,(function(e){return r("div",{key:e.id,staticClass:"order-item"},[r("nacl-flexbox",{staticClass:"text",attrs:{justify:"between",align:"center"}},[r("span",[t._v("订单号："+t._s(e.orderSn))]),r("span",[t._v(t._s(e.orderStatusText))])]),r("book-large-list",{staticClass:"list",attrs:{"can-handle":!1},on:{Remove:t.showAlter}},t._l(e.goodsList,(function(e){return r("book-large-list-item",{key:e.id,staticClass:"item",attrs:{data:e,"order-id":e.id},nativeOn:{click:function(n){return t.handleItemClick(e)}}})})),1),r("div",[t.isShowCancelOrder(e.orderstatus)?r("nacl-button",{staticClass:"remove-order",attrs:{type:"primary",radius:""},on:{click:function(n){return t.showOrderDelete(e.id)}}},[t._v("\n                        取消订单\n                    ")]):t._e()],1),r("div",[t.isShowRefundOrder(e.orderstatus)?r("nacl-button",{staticClass:"remove-order",attrs:{type:"primary",radius:""},on:{click:function(n){return t.showOrderRefund(e.id,e.actualPrice)}}},[t._v("\n                        申请退款\n                    ")]):t._e()],1)],1)})),0):r("div",[r("img",{staticClass:"cart-no-data",attrs:{src:n("416a"),width:"100%"}})])]),r("alter",{attrs:{title:t.alter.title,text:t.alter.text,"alter-data":t.alterData,"is-show":t.isShowAlter},on:{clickButton:t.alter.methods}})],1)},i=[],s=(n("96cf"),n("3b8d")),a=(n("57e7"),n("85b5")),o=n("86e3"),c=n("4c04"),u=n("ff8c"),l=n("d8d8"),d=n("dde5"),f={name:"index",components:{NaclButton:l["NaclButton"],alter:u["a"],BasicButton:o["a"],BasicTitle:a["a"],BookLargeList:c["a"],BookLargeListItem:c["a"].Item},data:function(){return{orderList:[],isShowAlter:!1,alterData:null,showType:this.$route.query.showType||0,alter:{title:"",text:"",methods:""}}},computed:{title:function(){var t=["全部订单","待付款","待发货","待收货","已完成"];return t[this.showType]}},created:function(){this.getOrderList()},methods:{goRouting:function(t){this.toGetUser(),window.webkit.messageHandlers.goRouting.postMessage(t)},toGetUser:function(){for(var t=Math.ceil(JSON.stringify(localStorage).length/1e3),e=0;e<t;e++)e!=t-1?window.webkit.messageHandlers.getUser.postMessage(e+"@_@"+encodeURIComponent(JSON.stringify(localStorage).substring(1e3*e,1e3*(e+1)))):window.webkit.messageHandlers.getUser.postMessage(e+"@_@"+encodeURIComponent(JSON.stringify(localStorage).substring(1e3*e,JSON.stringify(localStorage).length)))},isShowCancelOrder:function(t){var e=[101];return-1!==e.indexOf(t)},isShowRefundOrder:function(t){var e=[201,301];return-1!==e.indexOf(t)},handleItemClick:function(t){0===t.status&&(this.toGetUser(),window.webkit.messageHandlers.orderDetail.postMessage(""))},showOrderDelete:function(t){this.isShowAlter=!0,this.alterData={orderId:t},this.alter={title:"取消订单",text:"是否确认取消订单",methods:this.orderRemove}},showOrderRefund:function(t,e){this.isShowAlter=!0,this.alterData={orderId:t,amount:e,reason:"测试账号退款"},this.alter={title:"申请退款",text:"是否确认申请退款",methods:this.orderRefund}},orderRefund:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.isShowAlter=!1,0!==e){t.next=6;break}return t.next=4,Object(d["A"])(n);case 4:this.$toast("申请已提交"),this.getOrderList();case 6:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}(),orderRemove:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.isShowAlter=!1,0!==e){t.next=6;break}return t.next=4,Object(d["y"])(n.orderId);case 4:this.$toast("取消订单成功"),this.getOrderList();case 6:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}(),getOrderList:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(d["t"])(this.showType);case 2:e=t.sent,this.orderList=e;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){window.goRouting=this.goRouting}},h=f,g=(n("125e"),n("2877")),p=Object(g["a"])(h,r,i,!1,null,"68a74d22",null);e["default"]=p.exports},dd40:function(t,e,n){},ff8c:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isShow?n("div",{staticClass:"bg",on:{click:function(e){t.isShow=!1}}},[n("div",{staticClass:"box",on:{click:function(t){t.stopPropagation()}}},[n("p",{staticClass:"title"},[t._v(t._s(t.title))]),n("p",{staticClass:"text"},[t._v(t._s(t.text))]),n("nacl-flexbox",{staticClass:"buttons",attrs:{justify:"between",align:"center"}},[n("div",{staticClass:"buttonLeft",on:{click:function(e){return t.clickButton(0)}}},[t._v("\n                确定\n            ")]),n("div",{staticClass:"buttonRight",on:{click:function(e){return t.clickButton(1)}}},[t._v("\n                取消\n            ")])])],1)]):t._e()},i=[],s={name:"aletr",components:{},props:{alterData:{type:Object,default:function(){}},title:{type:String,default:"题目"},text:{type:String,default:"内容"},isShow:{type:Boolean,default:!1}},methods:{clickButton:function(t){this.$emit("clickButton",t,this.alterData)}}},a=s,o=(n("383a"),n("2877")),c=Object(o["a"])(a,r,i,!1,null,"022f7e16",null);e["a"]=c.exports}}]);
//# sourceMappingURL=chunk-60163724.88e565fa.js.map